<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Attendance Register</title>
    <link rel="stylesheet" href="/static/css/style.css">

</head>
<body>
    <div class="container">
        <h1>Student Attendance Register</h1>
        
        <form id="attendanceForm" method="POST" action="/add">
            <div class="form-group">
                <label for="id">Attendance ID (For Update/Delete)</label>
                <input type="text" id="id" name="id" value="{{.EditRecord.ID}}">
            </div>
            <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" id="firstName" name="firstName" value="{{.EditRecord.FirstName}}" required>
            </div>
            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" id="lastName" name="lastName" value="{{.EditRecord.LastName}}" required>
            </div>
            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="date" id="dob" name="dob" value="{{.EditRecord.DOB}}" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" value="{{.EditRecord.Phone}}" required>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" value="{{.EditRecord.Address}}" required>
            </div>
            <div class="form-group">
                <label for="courseName">Course Name</label>
                <input type="text" id="courseName" name="courseName" value="{{.EditRecord.CourseName}}" required>
            </div>
            <div class="form-group">
                <label for="courseLength">Course Length</label>
                <input type="text" id="courseLength" name="courseLength" value="{{.EditRecord.CourseLength}}" required>
            </div>
            <div class="form-group">
                <label for="graduationDate">Graduation Date</label>
                <input type="date" id="graduationDate" name="graduationDate" value="{{.EditRecord.GraduationDate}}" required>
            </div>
            <div class="form-group">
                <label for="tutorName">Tutor Name</label>
                <input type="text" id="tutorName" name="tutorName" value="{{.EditRecord.TutorName}}" required>
            </div>
            <div class="form-group">
                <label for="timeIn">Time In</label>
                <input type="time" id="timeIn" name="timeIn" value="{{.EditRecord.TimeIn}}" required>
            </div>
            <div class="form-group">
                <label for="timeOut">Time Out</label>
                <input type="time" id="timeOut" name="timeOut" value="{{.EditRecord.TimeOut}}" required>
            </div>
            <div class="form-group">
                <label for="absenceReason">Absence Reason</label>
                <select id="absenceReason" name="absenceReason" required>
                    <option value="Present" {{if eq .EditRecord.AbsenceReason "Present"}}selected{{end}}>Present</option>
                    <option value="Absent" {{if eq .EditRecord.AbsenceReason "Absent"}}selected{{end}}>Absent</option>
                    <option value="Late" {{if eq .EditRecord.AbsenceReason "Late"}}selected{{end}}>Late</option>
                    <option value="Permitted" {{if eq .EditRecord.AbsenceReason "Permitted"}}selected{{end}}>Permitted</option>
                    <option value="Other" {{if eq .EditRecord.AbsenceReason "Other"}}selected{{end}}>Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="cameraStatus">Camera Status</label>
                <select id="cameraStatus" name="cameraStatus" required>
                    <option value="On" {{if eq .EditRecord.CameraStatus "On"}}selected{{end}}>On</option>
                    <option value="Off" {{if eq .EditRecord.CameraStatus "Off"}}selected{{end}}>Off</option>
                    <option value="Permitted" {{if eq .EditRecord.CameraStatus "Permitted"}}selected{{end}}>Permitted</option>
                </select>
            </div>
            <div class="form-buttons">
                <button type="submit">Add / Update</button>
                {{if .EditRecord.ID}}<a href="/delete?id={{.EditRecord.ID}}">Delete</a>{{end}}
            </div>
        </form>

        <div id="attendanceList">
            <h2>Attendance List</h2>
            <ul id="studentList">
                {{range .Attendance}}
                <li>{{.ID}} - {{.FirstName}} {{.LastName}} 
                    <a href="/?id={{.ID}}">Edit</a>
                </li>
                {{end}}
            </ul>
        </div>
    </div>
</body>
</html>
